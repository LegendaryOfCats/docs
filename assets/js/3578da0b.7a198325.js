"use strict";(self.webpackChunkpaymenterdocs=self.webpackChunkpaymenterdocs||[]).push([[747],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>f});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=o.createContext({}),d=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},s=function(e){var t=d(e.components);return o.createElement(p.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=d(n),f=i,c=u["".concat(p,".").concat(f)]||u[f]||h[f]||a;return n?o.createElement(c,r(r({ref:t},s),{},{components:n})):o.createElement(c,r({ref:t},s))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var d=2;d<a;d++)r[d]=n[d];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3372:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var o=n(7462),i=(n(7294),n(3905));const a={},r="Extension",l={unversionedId:"how-to/create-a-extension",id:"how-to/create-a-extension",title:"Extension",description:"Gateway",source:"@site/docs/how-to/create-a-extension.md",sourceDirName:"how-to",slug:"/how-to/create-a-extension",permalink:"/docs/how-to/create-a-extension",draft:!1,editUrl:"https://github.com/Paymenter/docs/edit/main/docs/how-to/create-a-extension.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Make a theme/extension",permalink:"/docs/category/make-a-themeextension"},next:{title:"Theme",permalink:"/docs/how-to/create-a-theme"}},p={},d=[{value:"Gateway",id:"gateway",level:2},{value:"Step 1: Create a new folder",id:"step-1-create-a-new-folder",level:3},{value:"Step 2: Create a new file called <code>index.php</code>",id:"step-2-create-a-new-file-called-indexphp",level:3},{value:"Step 3: Add the extension&#39;s information",id:"step-3-add-the-extensions-information",level:3},{value:"Step 4: Add the pay function",id:"step-4-add-the-pay-function",level:3},{value:"Step 5: Add the webhook function (optional)",id:"step-5-add-the-webhook-function-optional",level:3},{value:"Server",id:"server",level:2},{value:"Step 1: Create a new folder",id:"step-1-create-a-new-folder-1",level:3},{value:"Step 2: Create a new file called <code>index.php</code>",id:"step-2-create-a-new-file-called-indexphp-1",level:3},{value:"Step 3: Add the extension&#39;s information",id:"step-3-add-the-extensions-information-1",level:3},{value:"Step 4: Add a product configuration function",id:"step-4-add-a-product-configuration-function",level:3},{value:"Step 5: Add the create function",id:"step-5-add-the-create-function",level:3},{value:"Step 6: Add the suspend function",id:"step-6-add-the-suspend-function",level:3},{value:"Step 7: Add the unsuspend function",id:"step-7-add-the-unsuspend-function",level:3},{value:"Step 8: Add the terminate function",id:"step-8-add-the-terminate-function",level:3},{value:"Step 9: Add the getUserConfig function (optional)",id:"step-9-add-the-getuserconfig-function-optional",level:3},{value:"Configs follow the following structure:",id:"configs-follow-the-following-structure",level:2}],s={toc:d};function h(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"extension"},"Extension"),(0,i.kt)("h2",{id:"gateway"},"Gateway"),(0,i.kt)("h3",{id:"step-1-create-a-new-folder"},"Step 1: Create a new folder"),(0,i.kt)("p",null,"First create a new folder in the ",(0,i.kt)("inlineCode",{parentName:"p"},"app/Extensions/Gateways")," directory. The name of the folder will be the name of the extension."),(0,i.kt)("h3",{id:"step-2-create-a-new-file-called-indexphp"},"Step 2: Create a new file called ",(0,i.kt)("inlineCode",{parentName:"h3"},"index.php")),(0,i.kt)("p",null,"Create a new file called ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," in the folder you created in the previous step. This file will contain the extension's information and functions."),(0,i.kt)("h3",{id:"step-3-add-the-extensions-information"},"Step 3: Add the extension's information"),(0,i.kt)("p",null,"Add the extension's information to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_getConfig")," to the file. This function should return an array with the extension's information. The following information is required:"),(0,i.kt)("p",null,"Check for the options ",(0,i.kt)("a",{parentName:"p",href:"#configs-follow-the-following-structure"},"here")),(0,i.kt)("h3",{id:"step-4-add-the-pay-function"},"Step 4: Add the pay function"),(0,i.kt)("p",null,"Add the pay function to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_pay")," to the file. "),(0,i.kt)("p",null,"This function should return the payment URL. The following information is attached to the function:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"total"),": The total amount of the payment."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"products"),": The products of the payment. Using model Order_Products"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"orderId"),": The ID of the order.")),(0,i.kt)("p",null,"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},'function Example_pay($total, $products, $orderId)\n{\n    // Do something with the information\n    return "https://example.com/pay";\n}\n')),(0,i.kt)("h3",{id:"step-5-add-the-webhook-function-optional"},"Step 5: Add the webhook function (optional)"),(0,i.kt)("p",null,"If your gateway requires a webhook, you can create a file called ",(0,i.kt)("inlineCode",{parentName:"p"},"routes.php")," in the folder you created in the previous step. This file will contain the webhook's route."),(0,i.kt)("p",null,"Example"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"Route::post('/webhook', function () {\n    // Do something with the webhook\n});\n")),(0,i.kt)("h2",{id:"server"},"Server"),(0,i.kt)("h3",{id:"step-1-create-a-new-folder-1"},"Step 1: Create a new folder"),(0,i.kt)("p",null,"First create a new folder in the ",(0,i.kt)("inlineCode",{parentName:"p"},"app/Extensions/Servers")," directory. The name of the folder will be the name of the extension."),(0,i.kt)("h3",{id:"step-2-create-a-new-file-called-indexphp-1"},"Step 2: Create a new file called ",(0,i.kt)("inlineCode",{parentName:"h3"},"index.php")),(0,i.kt)("p",null,"Create a new file called ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," in the folder you created in the previous step. This file will contain the extension's information and functions."),(0,i.kt)("h3",{id:"step-3-add-the-extensions-information-1"},"Step 3: Add the extension's information"),(0,i.kt)("p",null,"Add the extension's information to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_getConfig")," to the file. This function should return an array with the extension's information. The following information is required:"),(0,i.kt)("p",null,"Check for the options ",(0,i.kt)("a",{parentName:"p",href:"#configs-follow-the-following-structure"},"here")),(0,i.kt)("h3",{id:"step-4-add-a-product-configuration-function"},"Step 4: Add a product configuration function"),(0,i.kt)("p",null,"Add a product configuration function to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_getProductConfig")," to the file. This function should return an array with the product configuration."),(0,i.kt)("p",null,"Check for the options ",(0,i.kt)("a",{parentName:"p",href:"#configs-follow-the-following-structure"},"here")),(0,i.kt)("h3",{id:"step-5-add-the-create-function"},"Step 5: Add the create function"),(0,i.kt)("p",null,"Add the create function to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_createServer")," to the file."),(0,i.kt)("p",null,"$user = The user who created the server\n$params = The parameters of the server, this also includes the configuration if Example_getUserConfig is used. ($params","['config']",")\n$order = The order of the server"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"function Example_createServer($user, $params, $order)\n{\n    // Do something with the information e.g. create a server\n}\n")),(0,i.kt)("h3",{id:"step-6-add-the-suspend-function"},"Step 6: Add the suspend function"),(0,i.kt)("p",null,"Add the suspend function to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_suspendServer")," to the file."),(0,i.kt)("p",null,"$user = The user who created the server\n$params = The parameters of the server, this also includes the configuration if Example_getUserConfig is used. ($params","['config']",")\n$order = The order of the server"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"function Example_suspendServer($user, $params, $order)\n{\n    // Do something with the information e.g. suspend a server\n}\n")),(0,i.kt)("h3",{id:"step-7-add-the-unsuspend-function"},"Step 7: Add the unsuspend function"),(0,i.kt)("p",null,"Add the unsuspend function to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_unsuspendServer")," to the file."),(0,i.kt)("p",null,"$user = The user who created the server\n$params = The parameters of the server, this also includes the configuration if Example_getUserConfig is used. ($params","['config']",")\n$order = The order of the server"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"function Example_unsuspendServer($user, $params, $order)\n{\n    // Do something with the information e.g. unsuspend a server\n}\n")),(0,i.kt)("h3",{id:"step-8-add-the-terminate-function"},"Step 8: Add the terminate function"),(0,i.kt)("p",null,"Add the terminate function to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_terminateServer")," to the file."),(0,i.kt)("p",null,"$user = The user who created the server\n$params = The parameters of the server, this also includes the configuration if Example_getUserConfig is used. ($params","['config']",")\n$order = The order of the server"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"function Example_terminateServer($user, $params, $order)\n{\n    // Do something with the information e.g. terminate a server\n}\n")),(0,i.kt)("h3",{id:"step-9-add-the-getuserconfig-function-optional"},"Step 9: Add the getUserConfig function (optional)"),(0,i.kt)("p",null,"Add the getUserConfig function to the ",(0,i.kt)("inlineCode",{parentName:"p"},"index.php")," file. This can be done by adding a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"{yourExtensionName}_getUserConfig")," to the file."),(0,i.kt)("p",null,"Check for the options ",(0,i.kt)("a",{parentName:"p",href:"#configs-follow-the-following-structure"},"here")),(0,i.kt)("h2",{id:"configs-follow-the-following-structure"},"Configs follow the following structure:"),(0,i.kt)("p",null,"This works for both gateways and payment methods. "),(0,i.kt)("p",null,"Functions: _getConfig, _getProductConfig, _getUserConfig"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},'[\n    [\n        "name" => "api_key",\n        "friendlyName" => "API Key",\n        "type" => "text",\n        "required" => true\n    ],\n    [\n        "name" => "environment",\n        "friendlyName" => "Whether to use the live or development environment",\n        "type" => "dropdown",\n        "required" => true,\n        "options" => [\n            [\n                "name" => "Live",\n                "value" => "live"\n            ],\n            [\n                "name" => "Development",\n                "value" => "development"\n            ]\n        ]\n    ],\n]\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"name"),": The name of the field. This will be used to get the value of the field.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"friendlyName"),": The friendly name of the field. This will be used to display the name of the field.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"description"),": The description of the field. This will be used to display the description of the field. This is optional.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"type"),": The type of the field. This can be ",(0,i.kt)("inlineCode",{parentName:"p"},"text"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"boolean"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"dropdown"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"required"),": Whether the field is required or not. This can be ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"options"),": The options of the field. This is only required when the type is ",(0,i.kt)("inlineCode",{parentName:"p"},"dropdown"),". This should be an array with the options. The key of the option should be the value of the option and the value of the option should be the name of the option."))))}h.isMDXComponent=!0}}]);